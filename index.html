<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="digi.css">
</head>
<body>
  <div class="bgimg">
  <div id="clock">
    <div class="display">
      <div class="digi"></div>
    </div>
  </div>
</div>

  <script>
    $(()=>{
      let clock = $('#clock'),
          digiNum='T0 T1 T2 T3 T4 T5 T6 T7 T8 T9'.split(' '),
          digi={},
          nowTime=[//時間顯示方式
            'tc1','tc2',':','tc3','tc4',':','tc5','tc6'
          ],
          digiTime=clock.find('.digi');

          $.each(nowTime,function(){
            if(this==':'){
              //冒號
              digiTime.append('<div class="cc">')
            }else{
              //創造div
              var makeDiv=$('<div>');
                //七根
                for(let i=1;i<8;i++){
                  makeDiv.append('<span class="d' + i + '">');
                    //單雙引號使i變數
                }
                //時間比對
                digi[this] = makeDiv;
                //產生的東西放到字串裡面
                digiTime.append(makeDiv);
            }
          })

      const refresh = () => {
      const nt = new Date();
      const
      nh = nt.getHours(), //15
      nm = nt.getMinutes(), //39
      ns = nt.getSeconds(); //50
      const
        nk1 = Math.floor(nh / 10),
        nk2 = nh % 10,
        nk3 = Math.floor(nm / 10),
        nk4 = nm % 10,
        nk5 = Math.floor(ns / 10),
        nk6 = ns % 10;

        digi.tc1.attr('class',digiNum[`${nk1}`]);
        digi.tc2.attr('class',digiNum[`${nk2}`]);
        digi.tc3.attr('class',digiNum[`${nk3}`]);
        digi.tc4.attr('class',digiNum[`${nk4}`]);
        digi.tc5.attr('class',digiNum[`${nk5}`]);
        digi.tc6.attr('class',digiNum[`${nk6}`]);
        setInterval(refresh, 1000);
          }
          //一定要讓他在迴圈裡面跑，去外面就無效，無法賦予值
          refresh();
      });

        //     if(time==1){
    //       $('.up','.lup','ldown','.mid','.down').css("opacity","0");
    //       $('.rup','.rdown').css('opacity','1');
    //     }
    //     if(time==2){
    //       $('.lup','.rdown').css("opacity","0");
    //       $('.up','.rup','.mid','ldown','.down').css('opacity','1');
    //     }
        // $(".ck1")
      // document.getElementById("ck1").className = `mk${nk1}`;
      // document.getElementById("ck2").className = `mk${nk2}`;
      // document.getElementById("ck3").className = `mk${nk3}`;
      // document.getElementById("ck4").className = `mk${nk4}`;
      // document.getElementById("ck5").className = `mk${nk5}`;
      // document.getElementById("ck6").className = `mk${nk6}`;

      // document.getElementsByClassName("cc")[0].style.opacity = 1;
      // document.getElementsByClassName("cc")[1].style.opacity = 1;
      // setTimeout(() => {
      //   document.getElementsByClassName("cc")[0].style.opacity = 0;
      //   document.getElementsByClassName("cc")[1].style.opacity = 0;
      // }, 500);



      // document.querySelectorAll('.cc').forEach(e => {
      //   e.style.opacity = 1;
      //   setTimeout(() => {
      //     e.style.opacity = 0;
      //   }, 500);
      // });
      // setTimeout(refresh, 1000);
    // }
    // setInterval(refresh, 1000);




  </script>
</body>

</html>